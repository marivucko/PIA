<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Change password</title>
        <h:outputStylesheet library="css" name="design.css"/>
    </h:head>
    <h:body>

        <h:form>  
            <p:menubar>
                <p:menuitem value="Logout" action="#{IndexController.logout()}"/>
            </p:menubar>
        </h:form>   

         
        <h:form>    
            <br/>
            <h:panelGrid styleClass="panelStyle" cellpadding="5" style="width: 260px; height: 400px">
                <p:password placeholder="Current password" id="currPass" value="#{ChangePasswordController.currPass}"
                             required="true" requiredMessage="Please enter old password." style="margin-left: 8%"/><p:message for="currPass"></p:message>   
                <p:password placeholder="New password" id="newPass1"  value="#{ChangePasswordController.newPass1}"
                            required="true" requiredMessage="Please enter new password." style="margin-left: 8%" 
                            validatorMessage="Password must contain at least 8 characters, 
                            at least 1 uppercase, 1 lowercase, 1 number, 1 special character, and must start with a letter.">   
<!--                    <f:validateRegex pattern="((?=^[a-zA-Z])(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\.,@#$%]).{8,})"/>-->
                        <f:validateRegex pattern="((?=^[a-zA-Z])(?=.*\d)(?=.*[A-Z])(?=.*[\W_]).{8,})"/> 
                </p:password><p:message for="newPass1"></p:message>
                <p:password placeholder="Confirm new password" id="newPass2" value="#{ChangePasswordController.newPass2}"
                             required="true" requiredMessage="Please confirm new password." style="margin-left: 8%"/><p:message for="newPass2"></p:message>     
                <p:commandButton value="Change password" action="#{ChangePasswordController.changePassword()}" ajax="false" style="margin-left:  11%"/>    
            </h:panelGrid>
        </h:form>
        
        <br/> 
        <h:panelGrid cellpadding="5" styleClass="center" style="color: red">
            <p:outputLabel value="#{ChangePasswordController.message}"/>
        </h:panelGrid>

        <br/><br/><br/><br/><br/>
         <div id="footer" align="center" class="footer">
             <ui:insert name="footer">
                <br/> 
                ETF, Belgrade, 2020.<br/>
                        
                <br/>
            </ui:insert>
        </div> 
    </h:body>
</html>


